{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "New project",
  "architectural_notes": [],
  "known_issues": [
    "First screen initial load takes more than 2–3 minutes (slow startup/loading)"
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-instrument-and-surface-initial-load-timings-so-we-can-identify-where-the-2-3-minute-delay-occurs-actor-creation-access-control-initialization-profile-fetch-summaries-fetch-add-a-lightweight-in-app-debug-log-console-optional-hidden-ui-panel-that-records-timestamps-and-durations-for-actor-creation-start-end-initializeaccesscontrolwithsecret-start-end-getcalleruserprofile-start-end-and-the-first-clientsummaries-fetch-start-end",
      "title": "Instrument and surface initial-load timings so we can identify where the 2–3 minute delay occurs (actor creation, access-control initialization, profile fetch, summaries fetch). Add a lightweight in-app debug log (console + optional hidden UI panel) that records timestamps and durations for: actor creation start/end, `_initializeAccessControlWithSecret` start/end, `getCallerUserProfile` start/end, and the first `clientSummaries` fetch start/end.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-prevent-redundant-query-refetch-storms-during-startup-by-adjusting-the-actor-change-invalidation-behavior-in-frontend-src-hooks-useactor-ts-ensure-that-when-the-actor-becomes-available-dependent-queries-are-not-immediately-force-refetched-multiple-times-instead-invalidate-once-and-let-mounted-queries-refetch-normally-or-refetch-only-the-minimal-set-required-for-the-current-route",
      "title": "Prevent redundant query refetch storms during startup by adjusting the actor-change invalidation behavior in `frontend/src/hooks/useActor.ts`. Ensure that when the actor becomes available, dependent queries are not immediately force-refetched multiple times; instead, invalidate once and let mounted queries refetch normally (or refetch only the minimal set required for the current route).",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-reduce-time-to-first-render-for-the-authenticated-app-by-updating-the-profile-gating-in-frontend-src-app-tsx-to-avoid-blocking-the-entire-app-ui-on-slow-profile-fetches-keep-the-app-responsive-by-rendering-the-shell-theme-layout-quickly-and-showing-a-clear-english-loading-state-in-the-main-content-area-while-profile-data-loads-with-a-retry-action-if-the-profile-request-fails",
      "title": "Reduce time-to-first-render for the authenticated app by updating the profile gating in `frontend/src/App.tsx` to avoid blocking the entire app UI on slow profile fetches. Keep the app responsive by rendering the shell (theme + layout) quickly and showing a clear, English loading state in the main content area while profile data loads, with a retry action if the profile request fails.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-backend-method-that-returns-the-minimal-data-needed-for-the-first-screen-in-a-single-canister-call-e-g-current-user-profile-client-summaries-for-the-dashboard-and-update-frontend-queries-to-use-this-single-call-on-initial-load-instead-of-multiple-round-trips",
      "title": "Add a backend method that returns the minimal data needed for the first screen in a single canister call (e.g., current user profile + client summaries for the dashboard) and update frontend queries to use this single call on initial load instead of multiple round trips.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-tune-react-query-caching-for-initial-load-queries-to-avoid-unnecessary-refetching-during-startup-specifically-set-appropriate-staletime-gctime-cache-time-for-the-current-user-profile-and-client-summaries-queries-so-they-do-not-refetch-repeatedly-during-the-first-minute-unless-identity-changes-or-an-explicit-mutation-invalidation-occurs",
      "title": "Tune React Query caching for initial-load queries to avoid unnecessary refetching during startup. Specifically, set appropriate `staleTime`/`gcTime` (cache time) for the current-user profile and client summaries queries so they do not refetch repeatedly during the first minute unless identity changes or an explicit mutation invalidation occurs.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Optimize app initial load time (first screen takes >2–3 minutes)",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "projectName": "Reduce initial screen load time (first screen takes 2–3 minutes)",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}